var myApp=angular.module("todoApp",["ngRoute"]);myApp.controller("todoController",["$scope",function(a){a.saved=localStorage.getItem("todos"),null!==localStorage.getItem("todos")?a.todos=JSON.parse(a.saved):(a.todos=[{text:"put something into todo list!",done:!1,dateTime:"now!!"}],localStorage.setItem("todos",JSON.stringify(a.todos))),a.newDateTime="",$("#datetimepicker").datetimepicker({onChangeDateTime:function(b,c){a.newDateTime=c.val()}}),a.markAll=!1,a.addTodo=function(){a.todoText&&(a.todos.push({text:a.todoText,done:!1,dateTime:a.newDateTime}),a.todoText="",localStorage.setItem("todos",JSON.stringify(a.todos)),a.newDateTime="")},a.hasTodo=function(){return a.todos.length>0},a.update=function(){localStorage.setItem("todos",JSON.stringify(a.todos))},a.toggleEditMode=function(b,c){$(b.target).closest("li").toggleClass("editing"),localStorage.setItem("todos",JSON.stringify(a.todos)),$(".changeDateTime").datetimepicker({onChangeDateTime:function(a,b){c.dateTime=b.val()}})},a.remaining=function(){var b=0;return angular.forEach(a.todos,function(a){a.done||b++}),b},a.hasDone=function(){return a.todos.length!=a.remaining()},a.toggleMarkAll=function(){angular.forEach(a.todos,function(b){b.done=a.markAll}),localStorage.setItem("todos",JSON.stringify(a.todos))},a.clear=function(){var b=a.todos;a.todos=[],angular.forEach(b,function(b){b.done||a.todos.push(b)}),localStorage.setItem("todos",JSON.stringify(a.todos))}}]);